{"version":3,"sources":["store.js","Canvas.js","Overlay.js","index.js"],"names":["state","proxy","intro","colors","decals","selectedColor","selectedDecal","App","_ref","position","fov","_jsxs","Canvas","shadows","gl","preserveDrawingBuffer","camera","eventSource","document","getElementById","eventPrefix","children","_jsx","intensity","Environment","preset","CameraRig","Backdrop","Center","Shirt","props","snap","useSnapshot","texture","useTexture","concat","nodes","materials","useGLTF","useFrame","delta","easing","dampC","lambert1","color","console","log","castShadow","geometry","T_Shirt_male","material","rotation","Math","PI","dispose","Decal","scale","opacity","mapAnisotropy","map","useRef","current","getMesh","AccumulativeShadows","ref","temporal","frames","alphaTest","RandomizedLight","amount","radius","ambient","_ref2","group","dampE","pointer","y","x","preload","forEach","Overlay","className","Logo","width","height","AiOutlineShopping","size","Intro","Customizer","style","background","onClick","AiOutlineHighlight","decal","src","alt","link","createElement","setAttribute","querySelector","toDataURL","replace","click","AiFillCamera","AiOutlineArrowLeft","createRoot","render","_Fragment"],"mappings":"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","file":"static/js/main.0ad7bc92.chunk.js","sourcesContent":["import { proxy } from 'valtio'\n\nconst state = proxy({\n  intro: true,\n  colors: ['#ccc', '#EFBD4E', '#80C670', '#726DE8', '#EF674E', '#353934'],\n  // decals: ['react', 'three2', 'pmndrs'],\n  decals: ['smpls1', 'smpls2', 'smpls3'],\n\n  selectedColor: '#C0C0C0',\n  selectedDecal:'three2'\n})\n\nexport { state }\n","import { Canvas, useFrame } from \"@react-three/fiber\";\nimport {\n  useGLTF,\n  Environment,\n  Center,\n  AccumulativeShadows,\n  RandomizedLight,\n  useTexture,\n  Decal,\n  OrbitControls\n} from \"@react-three/drei\";\nimport { useRef } from \"react\";\nimport { Camera, RawShaderMaterial } from \"three\";\nimport { easing } from \"maath\";\nimport { useSnapshot } from \"valtio\";\nimport { state } from \"./store\";\nimport * as THREE from 'three';\n\n\nexport const App = ({ position = [0, 0, 2.5], fov = 25 }) => (\n  <Canvas\n      // camera={{ position, fov, near: 0.1, far: 1000 }}  // Adjust near and far values\n\n    shadows\n    gl={{preserveDrawingBuffer:true}}\n    camera={{ position, fov }}\n    eventSource={document.getElementById(\"root\")}\n    eventPrefix=\"client\"\n  >\n\n     <ambientLight intensity={.5} />  // Adjust ambient light intensity\n <directionalLight\n    intensity={1}\n    position={[0, 0, 1]}  // Adjust the position to be in front of the shirt\n  />\n  <Environment preset=\"city\" />\n\n    <CameraRig>\n      <Backdrop />\n    <Center>\n      <Shirt />\n      </Center>\n    </CameraRig>\n    {/* <OrbitControls/> */}\n  </Canvas>\n);\n\nfunction Shirt(props) {\n  const snap = useSnapshot(state)\n  \n  const texture = useTexture(`/${snap.selectedDecal}.png`)\n  const { nodes, materials } = useGLTF(\"/shirt_baked2.glb\");\n  // color of shirt\n  useFrame((state, delta) =>\n    easing.dampC(materials.lambert1.color, snap.selectedColor, 0.25, delta)\n  )\n\nconsole.log('Decal Texture:', texture);\n  \n  return (\n   \n      <mesh\n      castShadow\n      // receiveShadow\n      geometry={nodes.T_Shirt_male.geometry}\n      material={materials.lambert1}\n      material-roughness={2}\n      position={[0.419, 0, 0]}\n      rotation={[Math.PI / 2, 0, 0]}\n      {...props}\n      dispose={null}\n    >\n <Decal\n  position={[-.415, .19, -0.45]}\n        rotation={[4, 0, 0]}\n      // rotation={[Math.PI / 1.6, .1, -1]}\n        \n  scale={[0.15, 0.15, 0.7]}  // Adjust the scale as needed\n  opacity={.75} // Adjust the opacity if needed\n  mapAnisotropy={16}\n map={texture}\n/>\n    </mesh>\n\n  );\n}\n\nfunction Backdrop() {\n\n    const shadows = useRef()\n\n  useFrame((state, delta) =>\n    easing.dampC(\n      shadows.current.getMesh().material.color,\n      state.selectedColor,\n      0.25,\n      delta\n    )\n  )\n  \n  return (\n    <AccumulativeShadows\n      ref={shadows}\n      temporal\n      frames={60}\n      alphaTest={0.85}\n      scale={10}\n      rotation={[Math.PI / 2, 0, 0]}\n      position={[0, 0, -0.14]}\n    >\n      <RandomizedLight\n        amount={4}\n        radius={9}\n        intensity={0.55}\n        ambient={0.25}\n        position={[5, 5, -10]}\n      />\n      <RandomizedLight\n        amount={4}\n        radius={5}\n        intensity={0.25}\n        ambient={0.55}\n        position={[-5, 5, -9]}\n      />\n    </AccumulativeShadows>\n  );\n}\n\nfunction CameraRig({ children }) {\n  const group = useRef()\n  \n  useFrame((state,delta) => {\n    easing.dampE(\n      group.current.rotation,\n      [state.pointer.y / 10, -state.pointer.x / 5, 0],\n      0.25,\n      delta\n    )\n  })\n  return <group ref={group}>{children}</group>\n}\n\n\nuseGLTF.preload(\"/shirt_baked2.glb\");\n['/react.png', '/three2.png', '/pmndrs.png'].forEach(useTexture.preload)\n","import { Logo } from \"@pmndrs/branding\"\nimport { AiOutlineShopping, AiOutlineHighlight, AiOutlineArrowLeft, AiFillCamera } from 'react-icons/ai'\n\nimport { useSnapshot } from \"valtio\"\nimport {state} from './store'\n\n\nexport default function Overlay() {\n  const snap= useSnapshot(state)\n  return (\n   <div className=\"container\">\n      <header>\n        <Logo width=\"40\" height=\"40\" />\n        <div>\n          <AiOutlineShopping size=\"3em\" />\n        </div>\n      </header>\n      {snap.intro?<Intro/> : <Customizer/>}\n  </div>\n  )\n}\n\nfunction Intro() {\n  return (\n\n      <section key=\"main\">\n        <div className=\"section--container\">\n          <div>\n            <h1>LET'S DO IT.</h1>\n          </div>\n          <div className=\"support--content\">\n            <div>\n              <p>\n                Create your unique and exclusive shirt with our brand-new 3D\n                customization tool. <strong>Unleash your imagination</strong>{' '}\n                and define your own style.\n              </p>\n            <button\n              style={{ background: 'black' }}\n            onClick={()=>{(state.intro=false)}}\n            >\n                CUSTOMIZE IT <AiOutlineHighlight size=\"1.3em\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </section>\n  )\n}\n\nfunction Customizer() {\n   const snap = useSnapshot(state)\n\n  // const colors = ['#ccc', '#EFBD4E', '#80C670', '#726DE8', '#EF674E', '#353934']\n  // const decals = ['react', 'three2', 'pmndrs']\n\n  return (\n    <section key=\"custom\">\n      <div className=\"customizer\">\n        <div className=\"color-options\">\n          {snap.colors.map((color) => (\n            <div\n              key={color}\n              className=\"circle\"\n              style={{ background: color }}\n              onClick={() => { state.selectedColor = color }}></div>\n          ))}\n        </div>\n        <div className=\"decals\">\n          <div className=\"decals--container\">\n            {snap.decals.map((decal) => (\n              <div key={decal} className=\"decal\"\n               onClick={() => (state.selectedDecal = decal)}\n              >\n                {/* <img src={decal + '_thumb.png'} alt=\"brand\" /> */}\n                <img src={decal + '.png'} alt=\"brand\" />\n              </div>\n            ))}\n          </div>\n        </div>\n        <button className=\"share\"\n          style={{ background: snap.selectedColor }}\n         onClick={() => {\n            const link = document.createElement('a')\n            link.setAttribute('download', 'canvas.png')\n            link.setAttribute(\n              'href',\n              document\n                .querySelector('canvas')\n                .toDataURL('image/png')\n                .replace('image/png', 'image/octet-stream')\n            )\n            link.click()\n          }} >\n          DOWNLOAD\n          <AiFillCamera size=\"1.3em\" />\n        </button>\n        <button\n          className=\"exit\"\n          style={{ background: snap.selectedColor }}\n          onClick={() => (state.intro = true)}>\n          GO BACK\n          <AiOutlineArrowLeft size=\"1.3em\" />\n        </button>\n      </div>\n    </section>\n  )\n}\n","import { createRoot } from \"react-dom/client\";\nimport \"./styles.css\";\nimport { App as Canvas } from \"./Canvas\";\nimport Overlay from \"./Overlay\";\n\ncreateRoot(document.getElementById(\"root\")).render(\n  <>\n    <Canvas />\n    <Overlay/>\n  </>\n);\n"],"sourceRoot":""}